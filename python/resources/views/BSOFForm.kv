#:kivy 1.10.1
#:import label kivy.uix.label
#:import sla kivy.adapters.simplelistadapter

BSOFForm:        # top GUI component class
<BSOFForm>:      # define MyForm class
  size_hint_y: None
  height: self.minimum_height
  spacing: dp(20)
  BoxLayout:
    size_hint: None, None
    size: dp(300*2+10),dp(50+300/1080*1920+100+20)
    orientation: 'vertical'
    padding: [dp(10), dp(10), dp(10), dp(10)]
    spacing: dp(10)
    BoxLayout:
      size_hint: None, None
      size: dp(300*2+10),dp(50+300/1080*1920)
      spacing: dp(10)
      # left normal frame
      BoxLayout:
        orientation: 'vertical'
        Label:
          size_hint: None, None
          size: dp(300),dp(50)
          font_name: 'resources/fonts/msyh'
          font_size: sp(30)
          color: 0, 0, 0, 1
          text: 'image'
          id: image
        Widget:
          size_hint: None, None
          size: dp(300),dp(300/1080*1920)
          id: now_image
          on_touch_down: app.on_mouse_down(args[1].pos, self.pos, self.size)
          on_touch_up: app.on_mouse_up(args[1].pos, self.pos, self.size)
      # right abnormal frame
      BoxLayout:
        orientation: 'vertical'
        Label:
          size_hint: None, None
          size: dp(300),dp(50)
          font_name: 'resources/fonts/msyh'
          font_size: sp(30)
          color: 0, 0, 0, 1
          text: 'abnormal'
          id: abnormal
        Widget:
          size_hint: None, None
          size: dp(300),dp(300/1080*1920)
          id: abnormal_image
    BoxLayout:
      size_hint: None, None
      size: dp(300*2+10),dp(100)
      spacing:dp(10)
      TextInput:
        multiline: False
        id: parameter
        size_hint: .6, 1
        color: 0, 0, 0, 1
        font_name: 'resources/fonts/msyh'
        text: 'mouse pos'
        hint_text: 'all params'
        readonly: True
        cursor_blink: False
      Button:
        size_hint: .2, 1
        id: pause
        on_press: app.pause()
        font_name: 'resources/fonts/msyh'
        font_size: sp(30)
        text: 'pause'
      Button:
        size_hint: .2, 1
        id: rect
        # on_press: app.?()
        font_name: 'resources/fonts/msyh'
        font_size: sp(30)
        text: 'test'
  BoxLayout:
    size_hint: None,None
    height: now_image.height*2+dp(5)
    width: dp(400)
    BoxLayout:
      size_hint_x: .15
    BoxLayout:
      orientation: 'vertical'
      size_hint_x: .85
      AnchorLayout:
        size_hint_y: .7
        id: graph_area
      BoxLayout:
        size_hint_y: .3
        id: color_palette
        Label:
          font_name: 'resources/fonts/msyh'
          text: 'RGB:'
          color: 0, 0, 0, 1
          id: mean_color